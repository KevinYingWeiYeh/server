{"version":3,"sources":["actions/index.js","actions/types.js","components/Payments.js","components/Header.js","components/Landing.js","components/App.js","reducers/index.js","reducers/authReducer.js","index.js"],"names":["fetchUser","_ref","Object","asyncToGenerator","regenerator_default","a","mark","_callee","dispatch","res","wrap","_context","prev","next","axios","get","sent","type","payload","data","stop","this","_x","apply","arguments","handleToken","token","_ref2","_callee2","_context2","post","_x2","Payments","_this","react_default","createElement","main_default","name","description","amount","props","stripeKey","process","className","React","Component","connect","actions","Header","auth","href","key","components_Payments","style","margin","credits","react_router_dom","to","renderContent","Landing","textAlign","Dashboard","SurveryNew","App","components_Header","react_router","exact","path","component","combineReducers","state","length","undefined","action","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","reducers","applyMiddleware","reduxThunk","ReactDOM","render","es","components_App","document","querySelector"],"mappings":"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","file":"static/js/main.546720b7.chunk.js","sourcesContent":["import axios from \"axios\";\nimport { FETCH_USER } from \"./types\";\n\nexport const fetchUser = () => async dispatch => {\n  const res = await axios.get(\"/api/current_user\");\n  dispatch({ type: FETCH_USER, payload: res.data });\n};\n\nexport const handleToken = token => async dispatch => {\n  const res = await axios.post(\"api/stripe\", token);\n  dispatch({ type: FETCH_USER, payload: res.data });\n};\n","export const FETCH_USER = \"FETCH_USER\";\n","import React from \"react\";\nimport StripeCheckout from \"react-stripe-checkout\";\nimport { connect } from \"react-redux\";\n\nimport * as actions from \"../actions\";\n\nclass Payments extends React.Component {\n  render() {\n    return (\n      <StripeCheckout\n        name=\"Emaily\"\n        description=\"$5 for 5 Email credits\"\n        amount={500}\n        token={token => this.props.handleToken(token)}\n        stripeKey={process.env.REACT_APP_STRIPE_KEY}\n      >\n        <button className=\"btn\">Add credits</button>\n      </StripeCheckout>\n    );\n  }\n}\n\nexport default connect(\n  null,\n  actions\n)(Payments);\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport { Link } from \"react-router-dom\";\nimport Payments from \"./Payments\";\n\nclass Header extends React.Component {\n  renderContent() {\n    switch (this.props.auth) {\n      case null:\n        return;\n      case false:\n        return (\n          <li>\n            <a href=\"/auth/google\">Login With Google</a>\n          </li>\n        );\n      default:\n        return [\n          <li key=\"1\">\n            <Payments />\n          </li>,\n          <li key=\"3\" style={{ margin: \"0 10px\" }}>\n            Credits: {this.props.auth.credits}\n          </li>,\n          <li key=\"2\">\n            <a href=\"/api/logout\">Logout</a>\n          </li>\n        ];\n    }\n  }\n\n  render() {\n    return (\n      <nav>\n        <div className=\"nav-wrapper\">\n          <Link\n            to={this.props.auth ? \"/surveys\" : \"/\"}\n            className=\"left brand-logo\"\n          >\n            Emaily\n          </Link>\n          <ul className=\"right\">{this.renderContent()}</ul>\n        </div>\n      </nav>\n    );\n  }\n}\n\nconst mapStateToProps = ({ auth }) => {\n  return { auth };\n};\n\nexport default connect(mapStateToProps)(Header);\n","import React from \"react\";\n\nconst Landing = () => {\n  return (\n    <div style={{ textAlign: \"center\" }}>\n      <h1>Emaily</h1>\n      Correcting information from your users\n    </div>\n  );\n};\n\nexport default Landing;\n","import React from \"react\";\nimport { BrowserRouter, Route } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport { fetchUser } from \"../actions\";\n\nimport Header from \"./Header\";\nimport Landing from \"./Landing\";\n\nconst Dashboard = () => <h2> Dashboard </h2>;\nconst SurveryNew = () => <h2> SurveryNew </h2>;\n\nclass App extends React.Component {\n  componentWillMount() {\n    this.props.fetchUser();\n  }\n\n  render() {\n    return (\n      <div className=\"container\">\n        <BrowserRouter>\n          <div>\n            <Header />\n            <Route exact path=\"/\" component={Landing} />\n            <Route exact path=\"/surveys\" component={Dashboard} />\n            <Route exact path=\"/surveys/new\" component={SurveryNew} />\n          </div>\n        </BrowserRouter>\n      </div>\n    );\n  }\n}\n\nexport default connect(\n  null,\n  { fetchUser }\n)(App);\n","import { combineReducers } from \"redux\";\n\nimport authReducer from \"./authReducer\";\n\nexport default combineReducers({\n  auth: authReducer\n});\n","import { FETCH_USER } from \"../actions/types\";\n\nexport default function(state = null, action) {\n  switch (action.type) {\n    case FETCH_USER:\n      return action.payload || false;\n    default:\n      return state;\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { Provider } from \"react-redux\";\nimport { createStore, applyMiddleware, compose } from \"redux\";\nimport reduxThunk from \"redux-thunk\";\n\nimport App from \"./components/App\";\nimport reducers from \"./reducers\";\n\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\n\nconst store = createStore(\n  reducers,\n  composeEnhancers(applyMiddleware(reduxThunk))\n);\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.querySelector(\"#root\")\n);\n"],"sourceRoot":""}